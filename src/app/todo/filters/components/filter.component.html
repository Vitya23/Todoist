<p-columnFilter
  #columnF
  display="menu"
  [showOperator]="false"
  [showMatchModes]="false"
  [showAddButton]="false"
  [showClearButton]="false"
  [showApplyButton]="false"
>
  <ng-template pTemplate="header">
    <div class="header">
      <h4>{{ title }}</h4>
      @if(!field){
      <div class="header__dropdown">
        <p-dropdown
          [(ngModel)]="taskField"
          (onChange)="filterValue = null"
          optionLabel="label"
          optionValue="value"
          [options]="taskFields"
        >
        </p-dropdown>
      </div>

      }
    </div>
  </ng-template>

  <ng-template pTemplate="body">
    @if(taskField === 'description' && !field){
    <input pInputText [(ngModel)]="filterValue" type="text" />
    } @if(taskField === 'endDate' && !field){
    <p-calendar [(ngModel)]="filterValue" [showIcon]="true"></p-calendar>
    } @if(taskField === 'priority' || field){
    <p-dropdown
      [options]="dropDownOption"
      [(ngModel)]="filterValue"
      [showClear]="true"
      [optionLabel]="optionLabel"
      [optionValue]="optionValue"
    >
      <ng-template let-option pTemplate="item">
        @if(!field){
        <div class="select__items">
          <i class="pi pi-flag"></i>
          <div highlightPriority [priority]="option.priority">
            {{ option.title }}
          </div>
        </div>
        } @if(field === 'category'){
        <div class="category_filter">
          <span>{{ option.title }}</span>
          <p-button [text]="true" size="small" icon="pi pi-times"></p-button>
        </div>
        <!-- (onFocus)="generateDeleteComponent(option.id, deleteMods.Category)" -->
        } @if(field === 'status') {
        {{ option.status }}
        }
      </ng-template>
    </p-dropdown>
    } @if(!field){}
    <div class="footer">
      <button
        pButton
        label="Очистить"
        class="p-button-outlined button"
        (click)="clearFilter(columnF)"
      ></button>
      <button
        pButton
        label="Применить"
        class="button"
        (click)="applyFilter(columnF)"
      ></button>
    </div>
  </ng-template>
</p-columnFilter>
