<div class="block">
  <div class="card" *ngIf="tasks$ | async as tasks">
    @for (category of categories$ |async ;track category){
    <p-table
      [value]="tasksByCategories(category, tasks)"
      [tableStyle]="{
        'min-width': '20rem',
        'margin-bottom': '20px'
      }"
    >
      <ng-template pTemplate="caption">
        <div>
          {{ category.title }}
        </div>
      </ng-template>

      <ng-template pTemplate="body" let-task>
        <tr>
          <td>{{ task.description }}</td>
          <td style="align-items: end">
            <p-tag
              [value]="task.status"
              [severity]="getSeverity(task.status)"
            ></p-tag>
          </td>
        </tr>
      </ng-template>
    </p-table>
    }
  </div>
</div>
